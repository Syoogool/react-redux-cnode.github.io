{"version":3,"sources":["../static/js/6.df51d777.chunk.js","components/CreateForm.js"],"names":["webpackJsonp","1160","module","__webpack_exports__","__webpack_require__","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_axios__","__WEBPACK_IMPORTED_MODULE_1_axios___default","__WEBPACK_IMPORTED_MODULE_2__components_Notifice__","__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__","_createClass","defineProperties","target","props","i","length","descriptor","protoProps","staticProps","options","text","CreateForm","_React$Component","this","_this","getPrototypeOf","handleChange","e","_ref","name","setState","handleSubmit","_this$state","state","tab","title","content","a","post","accesstoken","token","then","res","resetForm","catch","error","response","data","error_msg","console","log","message","bind","_state","createElement","onSubmit","Field","control","onChange","placeholder","Group","widths","Input","fluid","floated","Component"],"mappings":"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","file":"static/js/6.df51d777.chunk.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ 1160:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios__ = __webpack_require__(66);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Notifice__ = __webpack_require__(197);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__ = __webpack_require__(841);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var options=[{key:'share',text:'分享',value:'share'},{key:'ask',text:'问答',value:'ask'},{key:'job',text:'招聘',value:'job'},{key:'dev',text:'测试',value:'dev'}];var CreateForm=function(_React$Component){_inherits(CreateForm,_React$Component);function CreateForm(props){_classCallCheck(this,CreateForm);var _this=_possibleConstructorReturn(this,(CreateForm.__proto__||Object.getPrototypeOf(CreateForm)).call(this,props));_this.handleChange=function(e,_ref){var name=_ref.name,value=_ref.value;return _this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(){var _this$state=_this.state,tab=_this$state.tab,title=_this$state.title,content=_this$state.content;var url='https://cnodejs.org/api/v1/topics';_this.setState({title:title,tab:tab,content:content});__WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(url,{title:title,tab:tab,content:content,accesstoken:_this.props.token}).then(function(res){// 重置表单\n_this.resetForm();// 创建成功提示消息\nObject(__WEBPACK_IMPORTED_MODULE_2__components_Notifice__[\"a\" /* default */])('创建成功');}).catch(function(error){if(error.response){Object(__WEBPACK_IMPORTED_MODULE_2__components_Notifice__[\"a\" /* default */])(error.response.data.error_msg);}else{console.log('Error',error.message);}});};_this.resetForm=_this.resetForm.bind(_this);//表单数据初始化\n_this.state={title:'',tab:'',content:''};return _this;}// 受控表单\n_createClass(CreateForm,[{key:'resetForm',// 重置表单\nvalue:function resetForm(){this.setState({title:'',tab:'',content:''});}// 表单提交处理事件\n},{key:'render',value:function render(){var _state=this.state,title=_state.title,tab=_state.tab,content=_state.content;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"c\" /* Form */],{onSubmit:this.handleSubmit},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"c\" /* Form */].Field,{control:__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"h\" /* Select */],name:'tab',value:tab,onChange:this.handleChange,options:options,placeholder:'\\u8BF7\\u9009\\u62E9\\u6D4B\\u8BD5\\u7C7B\\u578B'}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"c\" /* Form */].Group,{widths:'equal'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"c\" /* Form */].Input,{fluid:true,name:'title',value:title,onChange:this.handleChange,placeholder:'\\u6807\\u9898\\u5B57\\u6570\\u4E0D\\u5C11\\u4E8E10\\u5B57'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"c\" /* Form */].Field,{control:__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"i\" /* TextArea */],name:'content',value:content,onChange:this.handleChange,placeholder:'\\u5185\\u5BB9\\u5B57\\u6570\\u4E0D\\u5C11\\u4E8E30\\u5B57'}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"c\" /* Form */].Field,{floated:'right',control:__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"a\" /* Button */]},'\\u63D0\\u4EA4'));}}]);return CreateForm;}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);/* harmony default export */ __webpack_exports__[\"default\"] = (CreateForm);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/6.df51d777.chunk.js","import React from 'react'\r\nimport axios from 'axios'\r\nimport notice from '../components/Notifice'\r\nimport { Form, TextArea, Select, Button } from 'semantic-ui-react'\r\n\r\nconst options = [\r\n  { key: 'share', text: '分享', value: 'share' },\r\n  { key: 'ask', text: '问答', value: 'ask' },\r\n  { key: 'job', text: '招聘', value: 'job'},\r\n  { key: 'dev', text: '测试', value: 'dev'}\r\n]\r\n\r\nclass CreateForm extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.resetForm = this.resetForm.bind(this)\r\n    //表单数据初始化\r\n    this.state = {\r\n      title: '',\r\n      tab: '',\r\n      content: ''\r\n    }\r\n  }\r\n  \r\n  // 受控表单\r\n  handleChange = (e, { name, value }) => this.setState({ [name]: value})\r\n\r\n  // 重置表单\r\n  resetForm () {\r\n    this.setState({\r\n      title: '',\r\n      tab: '',\r\n      content: ''\r\n    })\r\n  }\r\n  \r\n  // 表单提交处理事件\r\n  handleSubmit = () => {\r\n    const { tab, title, content } = this.state\r\n    const url = 'https://cnodejs.org/api/v1/topics'\r\n    this.setState({ title, tab, content })\r\n\r\n    axios.post(url,{\r\n      title,\r\n      tab,\r\n      content,\r\n      accesstoken: this.props.token\r\n    })\r\n    .then(res => {\r\n      // 重置表单\r\n      this.resetForm()\r\n      // 创建成功提示消息\r\n      notice('创建成功')\r\n    })\r\n    .catch(error => {\r\n      if (error.response) {\r\n        notice(error.response.data.error_msg)\r\n      } else {\r\n        console.log('Error', error.message)\r\n      }\r\n    })\r\n  }\r\n\r\n  render () {\r\n    const { title, tab, content } = this.state\r\n    return (\r\n      <Form onSubmit={this.handleSubmit}>\r\n        <Form.Field control={Select} name='tab' value={tab} onChange={this.handleChange} options={options} placeholder='请选择测试类型' />\r\n        <Form.Group widths='equal'>\r\n          <Form.Input fluid name='title' value={title} onChange={this.handleChange} placeholder='标题字数不少于10字' />\r\n        </Form.Group>\r\n        <Form.Field control={TextArea} name='content' value={content} onChange={this.handleChange} placeholder='内容字数不少于30字' />\r\n        <Form.Field floated='right' control={Button}>提交</Form.Field>\r\n        { /*<pre>{JSON.stringify({ tab, title, content }, null, 2)}</pre> */}\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CreateForm\n\n\n// WEBPACK FOOTER //\n// ./src/components/CreateForm.js"],"sourceRoot":""}